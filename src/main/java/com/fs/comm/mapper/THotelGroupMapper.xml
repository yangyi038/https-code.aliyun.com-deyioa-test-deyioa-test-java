<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fs.comm.mapper.THotelGroupMapper">
	<resultMap id="BaseResultMap" type="com.fs.comm.model.THotelGroup">
		<id column="sid" property="sid" jdbcType="BIGINT" />
		
		<result column="companyid" property="companyid" jdbcType="BIGINT" />
		<result column="operatorid" property="operatorid" jdbcType="BIGINT" />
		<result column="dealerid" property="dealerid" jdbcType="BIGINT" />
		
		<result column="groupnum" property="groupnum" jdbcType="INTEGER" />
		<result column="groupname" property="groupname" jdbcType="VARCHAR" />
		<result column="grouptype" property="grouptype" jdbcType="INTEGER" />
		<result column="comm" property="comm" jdbcType="VARCHAR" />
		<result column="createtime" property="createtime" jdbcType="TIMESTAMP" />

		<result column="epgfirst" property="epgfirst" jdbcType="VARCHAR" />
		<result column="epgsecond" property="epgsecond" jdbcType="VARCHAR" />
		<result column="wifi" property="wifi" jdbcType="VARCHAR" />
		<result column="wifipwd" property="wifipwd" jdbcType="VARCHAR" />
		<result column="epghome" property="epghome" jdbcType="VARCHAR" />
		<result column="vod" property="vod" jdbcType="VARCHAR" />
		<result column="applicationup" property="applicationup"
			jdbcType="VARCHAR" />
		<result column="appblacklist" property="appblacklist" jdbcType="VARCHAR" />
		<result column="openpic" property="openpic" jdbcType="VARCHAR" />
		<result column="openvideo" property="openvideo" jdbcType="VARCHAR" />
		<result column="openlogo" property="openlogo" jdbcType="VARCHAR" />
		<result column="romup" property="romup" jdbcType="VARCHAR" />
		<result column="backupserver" property="backupserver" jdbcType="VARCHAR" />
		<result column="ntp" property="ntp" jdbcType="VARCHAR" />
		<result column="routerpower" property="routerpower" jdbcType="VARCHAR" />
		<result column="presn" property="presn" jdbcType="VARCHAR" />
		<result column="mediaserverid" property="mediaserverid"
			jdbcType="VARCHAR" />
		<result column="logserver" property="logserver" jdbcType="VARCHAR" />
		<result column="noticepic" property="noticepic" jdbcType="VARCHAR" />
		<result column="welcome" property="welcome" jdbcType="VARCHAR" />
	</resultMap>

	<sql id="Base_Column_List">
		sid,companyid, operatorid,dealerid,groupnum, groupname, grouptype, comm,
		createtime,

		epgfirst,epgsecond,
		wifi,wifipwd,epghome,vod,applicationup,
		appblacklist,openpic,openvideo,openlogo,
		romup,backupserver,ntp,
		routerpower,
		presn,mediaserverid,logserver,noticepic,
		welcome
	</sql>

	<!-- 根据条件查询组信息 -->
	<select id="getGroupInfoByCondition" parameterType="com.fs.web.vomodel.Group_SearchVo"
		resultMap="BaseResultMap">
		select * from t_hotel_group  where 1=1
		<if test="groupNum!= null and groupNum!= ''">
			and sid=#{groupNum}
		</if>
	</select>

	<!-- 获取最大组编号 -->
	<select id="getMaxGroupNum" resultType="java.lang.Integer">
		select max(groupnum) from
		t_hotel_group
	</select>

	<!-- 获取酒店组列表 -->
	<select id="getGroupList" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select * from t_hotel_group where 1=1
		
		order by createtime desc
	</select>

	<!-- 获取分组详情 -->
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		select
		<include refid="Base_Column_List" />
		from t_hotel_group
		where sid = #{sid,jdbcType=BIGINT}
	</select>

	<!-- 查询酒店组是否存在 -->
	<select id="countGroup" resultType="java.lang.Integer">
		select count(1) from t_hotel_group b where 1=1
		<if test="sid!= null and sid!= ''">
			and b.sid=#{sid}
		</if>
	</select>

	<!-- 删除酒店组 -->
	<delete id="deleteGroup" parameterType="java.lang.Long">
		delete from t_hotel_group
		where sid = #{sid,jdbcType=BIGINT}
	</delete>

	<!--添加酒店组 -->
	<insert id="insertGroup" parameterType="com.fs.comm.model.THotelGroup">
		insert into t_hotel_group
		(sid, groupnum, groupname,
		grouptype, comm,
		createtime,

		epgfirst,epgsecond,
		wifi,wifipwd,epghome,vod,applicationup,
		appblacklist,openpic,openvideo,openlogo,
		romup,backupserver,ntp,
		routerpower,
		presn,mediaserverid,logserver,noticepic,
		companyid,welcome
		,operatorid,dealerid
		)
		values
		(#{sid,jdbcType=BIGINT}, #{groupnum,jdbcType=INTEGER},
		#{groupname,jdbcType=VARCHAR},
		#{grouptype,jdbcType=INTEGER},
		#{comm,jdbcType=VARCHAR},
		#{createtime,jdbcType=TIMESTAMP},

		#{epgfirst,jdbcType=VARCHAR},#{epgsecond,jdbcType=VARCHAR},
		#{wifi,jdbcType=VARCHAR},
		#{wifipwd,jdbcType=VARCHAR},#{epghome,jdbcType=VARCHAR},
		#{vod,jdbcType=VARCHAR},#{applicationup,jdbcType=VARCHAR},#{appblacklist,jdbcType=VARCHAR},
		#{openpic,jdbcType=VARCHAR},
		#{openvideo,jdbcType=VARCHAR},#{openlogo,jdbcType=VARCHAR},
		#{romup,jdbcType=VARCHAR},#{backupserver,jdbcType=VARCHAR},#{ntp,jdbcType=VARCHAR},
		#{routerpower,jdbcType=VARCHAR},
		#{presn,jdbcType=VARCHAR},#{mediaserverid,jdbcType=VARCHAR},
		#{logserver,jdbcType=VARCHAR},#{noticepic,jdbcType=VARCHAR},
		#{companyid,jdbcType=BIGINT}
		,#{welcome,jdbcType=VARCHAR}
		,#{operatorid,jdbcType=BIGINT}
		,#{dealerid,jdbcType=BIGINT}
		)
	</insert>


	<insert id="insertSelective" parameterType="com.fs.comm.model.THotelGroup">
		insert into t_hotel_group
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="sid != null">
				sid,
			</if>
			<if test="groupnum != null">
				groupnum,
			</if>
			<if test="groupname != null">
				groupname,
			</if>
			<if test="grouptype != null">
				grouptype,
			</if>
			<if test="comm != null">
				comm,
			</if>
			<if test="createtime != null">
				createtime,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="sid != null">
				#{sid,jdbcType=BIGINT},
			</if>
			<if test="groupnum != null">
				#{groupnum,jdbcType=INTEGER},
			</if>
			<if test="groupname != null">
				#{groupname,jdbcType=VARCHAR},
			</if>
			<if test="grouptype != null">
				#{grouptype,jdbcType=INTEGER},
			</if>
			<if test="comm != null">
				#{comm,jdbcType=VARCHAR},
			</if>
			<if test="createtime != null">
				#{createtime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>


	<update id="updateHotelGroupInfo" parameterType="com.fs.comm.model.THotelGroup">
		update t_hotel_group
		<set>
			<if test="groupnum != null">
				groupnum = #{groupnum,jdbcType=INTEGER},
			</if>
			<if test="groupname != null">
				groupname = #{groupname,jdbcType=VARCHAR},
			</if>
			<if test="grouptype != null">
				grouptype = #{grouptype,jdbcType=INTEGER},
			</if>
			<if test="comm != null">
				comm = #{comm,jdbcType=VARCHAR},
			</if>
			<if test="createtime != null">
				createtime = #{createtime,jdbcType=TIMESTAMP},
			</if>
			
			<if test="epgfirst != null and epgfirst !=''">
				epgfirst = #{epgfirst,jdbcType=VARCHAR},
			</if>
			<if test="epgsecond != null and epgsecond !=''">
				epgsecond = #{epgsecond,jdbcType=VARCHAR},
			</if>
			<if test=" wifi != null and  wifi  !=''">
				wifi = #{ wifi ,jdbcType=VARCHAR},
			</if>
			<if test="wifipwd != null and  wifipwd  !=''">
				wifipwd = #{ wifipwd ,jdbcType=VARCHAR},
			</if>
			<if test="  epghome != null and  epghome  !=''">
				epghome = #{ epghome ,jdbcType=VARCHAR},
			</if>
			<if test=" vod  != null and  vod  !=''">
				vod = #{ vod ,jdbcType=VARCHAR},
			</if>
			<if test="  applicationup != null and applicationup   !=''">
				applicationup = #{ applicationup ,jdbcType=VARCHAR},
			</if>
			<if test=" appblacklist  != null and  appblacklist  !=''">
				appblacklist = #{ appblacklist ,jdbcType=VARCHAR},
			</if>
			<if test=" openpic  != null and openpic   !=''">
				openpic = #{ openpic ,jdbcType=VARCHAR},
			</if>
			<if test=" openvideo  != null and  openvideo  !=''">
				openvideo = #{ openvideo ,jdbcType=VARCHAR},
			</if>
			<if test=" openlogo  != null and  openlogo  !=''">
				openlogo = #{ openlogo ,jdbcType=VARCHAR},
			</if>
			<if test=" romup  != null and  romup  !=''">
				romup = #{ romup ,jdbcType=VARCHAR},
			</if>
			<if test=" backupserver  != null and backupserver   !=''">
				backupserver = #{ backupserver ,jdbcType=VARCHAR},
			</if>
			<if test=" ntp  != null and  ntp  !=''">
				ntp = #{ ntp ,jdbcType=VARCHAR},
			</if>
			<if test=" routerpower  != null and routerpower   !=''">
				routerpower = #{ routerpower ,jdbcType=VARCHAR},
			</if>
			<if test=" presn  != null and  presn  !=''">
				presn = #{ presn ,jdbcType=VARCHAR},
			</if>
			<if test=" mediaserverid  != null and  mediaserverid  !=''">
				mediaserverid = #{ mediaserverid ,jdbcType=VARCHAR},
			</if>
			<if test=" logserver  != null and  logserver  !=''">
				logserver = #{ logserver ,jdbcType=VARCHAR},
			</if>
			<if test="  noticepic != null and  noticepic  !=''">
				noticepic = #{ noticepic ,jdbcType=VARCHAR},
			</if>
			<if test="  welcome != null and  welcome  !=''">
				welcome = #{ welcome ,jdbcType=VARCHAR},
			</if>
		</set>
		where sid = #{sid,jdbcType=BIGINT}
	</update>

	<!-- 修改组信息 -->
	<update id="updateByPrimaryKey" parameterType="com.fs.comm.model.THotelGroup">
		update
		t_hotel_group
		set groupnum = #{groupnum,jdbcType=INTEGER},
		groupname =
		#{groupname,jdbcType=VARCHAR},
		grouptype =
		#{grouptype,jdbcType=INTEGER},
		comm = #{comm,jdbcType=VARCHAR},
		createtime =
		#{createtime,jdbcType=TIMESTAMP},

		epgfirst=#{epgfirst,jdbcType=VARCHAR},epgsecond=#{epgsecond,jdbcType=VARCHAR},
		wifi=#{wifi,jdbcType=VARCHAR},
		wifipwd=#{wifipwd,jdbcType=VARCHAR},epghome=#{epghome,jdbcType=VARCHAR},
		vod=#{vod,jdbcType=VARCHAR},applicationup=#{applicationup,jdbcType=VARCHAR},
		appblacklist=#{appblacklist,jdbcType=VARCHAR},
		openpic=#{openpic,jdbcType=VARCHAR},
		openvideo=#{openvideo,jdbcType=VARCHAR},openlogo=#{openlogo,jdbcType=VARCHAR},
		romup=#{romup,jdbcType=VARCHAR},backupserver=#{backupserver,jdbcType=VARCHAR},
		ntp=#{ntp,jdbcType=VARCHAR},
		routerpower=#{routerpower,jdbcType=VARCHAR},
		presn=#{presn,jdbcType=VARCHAR},mediaserverid=#{mediaserverid,jdbcType=VARCHAR},
		logserver=#{logserver,jdbcType=VARCHAR},noticepic=#{noticepic,jdbcType=VARCHAR}
		where sid = #{sid,jdbcType=BIGINT}
	</update>
	
	
	<select id="getTHoteGrouplByNum" parameterType="java.lang.Integer" resultMap="BaseResultMap">
		select * from t_hotel_group where groupnum=#{groupnum}
	</select>
</mapper>