<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fs.app.mapper.I_TStbMapper">
	<resultMap id="BaseResultMap" type="com.fs.comm.model.TStb">
		<id column="sid" property="sid" jdbcType="BIGINT" />
		<result column="companyid" property="companyid" jdbcType="BIGINT" />
		<result column="stbnum" property="stbnum" jdbcType="INTEGER" />
		<result column="stbgroup" property="stbgroup" jdbcType="VARCHAR" />
		<result column="pwd" property="pwd" jdbcType="VARCHAR" />
		<result column="pwdsure" property="pwdsure" jdbcType="VARCHAR" />
		<result column="epgroot" property="epgroot" jdbcType="VARCHAR" />
		<result column="epgprivate" property="epgprivate" jdbcType="VARCHAR" />
		<result column="telroot" property="telroot" jdbcType="VARCHAR" />
		<result column="deposit" property="deposit" jdbcType="DECIMAL" />
		<result column="hotelsid" property="hotelsid" jdbcType="BIGINT" />
		<result column="hotelname" property="hotelname" jdbcType="VARCHAR" />
		<result column="paytype" property="paytype" jdbcType="INTEGER" />
		<result column="stbstatus" property="stbstatus" jdbcType="INTEGER" />
		<result column="installaddress" property="installaddress"
			jdbcType="VARCHAR" />
		<result column="validdate" property="validdate" jdbcType="TIMESTAMP" />
		<result column="accounttype" property="accounttype" jdbcType="INTEGER" />
		<result column="balance" property="balance" jdbcType="DECIMAL" />
		<result column="createtime" property="createtime" jdbcType="TIMESTAMP" />
		<result column="stbid" property="stbid" jdbcType="VARCHAR" />
		<result column="mac" property="mac" jdbcType="VARCHAR" />
		<result column="apkversion" property="apkversion" jdbcType="VARCHAR" />
		<result column="romversion" property="romversion" jdbcType="VARCHAR" />
		<result column="romfirmware" property="romfirmware" jdbcType="VARCHAR" />
		<result column="apptype" property="apptype" jdbcType="VARCHAR" />
		<result column="tokencode" property="tokencode" jdbcType="VARCHAR" />
		<result column="stbtype" property="stbtype" jdbcType="INTEGER" />
	</resultMap>

	<sql id="Base_Column_List">
		sid, companyid,stbnum, stbgroup, pwd, pwdsure, epgroot,
		epgprivate,
		telroot,
		deposit, hotelsid,
		hotelname, paytype, stbstatus,
		installaddress, validdate, accounttype, balance,
		createtime,
		stbid, mac,
		apkversion, romversion, romfirmware, apptype , tokencode,
		stbtype
	</sql>


	<!-- 获取机顶盒 -->
	<select id="getStb" resultMap="BaseResultMap" parameterType="java.util.Map">
		select * from t_stb
		where 1=1
		<if test="sid !=null ">
			and sid =#{sid}
		</if>
		<if test="stbnum !=null and stbnum !=''">
			and stbnum =#{stbnum}
		</if>
		<if test="stbtype !=null and stbtype !=''">
			and stbtype =#{stbtype}
		</if>
	</select>

	<!-- 修改 -->
	<update id="updateStbInfo" parameterType="com.fs.comm.model.TStb">
		update t_stb
		<set>
			<if test="stbnum != null">
				stbnum = #{stbnum,jdbcType=INTEGER},
			</if>
			<if test="stbgroup != null">
				stbgroup = #{stbgroup,jdbcType=VARCHAR},
			</if>
			<if test="pwd != null">
				pwd = #{pwd,jdbcType=VARCHAR},
			</if>
			<if test="pwdsure != null">
				pwdsure = #{pwdsure,jdbcType=VARCHAR},
			</if>
			<if test="epgroot != null">
				epgroot = #{epgroot,jdbcType=VARCHAR},
			</if>
			<if test="epgprivate != null">
				epgprivate = #{epgprivate,jdbcType=VARCHAR},
			</if>
			<if test="telroot != null">
				telroot = #{telroot,jdbcType=VARCHAR},
			</if>
			<if test="deposit != null">
				deposit = #{deposit,jdbcType=DECIMAL},
			</if>
			<if test="hotelsid != null">
				hotelsid = #{hotelsid,jdbcType=BIGINT},
			</if>
			<if test="hotelname != null">
				hotelname = #{hotelname,jdbcType=VARCHAR},
			</if>
			<if test="paytype != null">
				paytype = #{paytype,jdbcType=INTEGER},
			</if>
			<if test="stbstatus != null">
				stbstatus = #{stbstatus,jdbcType=INTEGER},
			</if>
			<if test="installaddress != null">
				installaddress = #{installaddress,jdbcType=VARCHAR},
			</if>
			<if test="validdate != null">
				validdate = #{validdate,jdbcType=TIMESTAMP},
			</if>
			<if test="accounttype != null">
				accounttype = #{accounttype,jdbcType=INTEGER},
			</if>
			<if test="balance != null">
				balance = #{balance,jdbcType=DECIMAL},
			</if>
			<if test="createtime != null">
				createtime = #{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="stbid != null">
				stbid = #{stbid,jdbcType=VARCHAR},
			</if>
			<if test="mac != null">
				mac = #{mac,jdbcType=VARCHAR},
			</if>
			<if test="apkversion != null">
				apkversion = #{apkversion,jdbcType=VARCHAR},
			</if>
			<if test="romversion != null">
				romversion = #{romversion,jdbcType=VARCHAR},
			</if>
			<if test="romfirmware != null">
				romfirmware = #{romfirmware,jdbcType=VARCHAR},
			</if>
			<if test="apptype != null">
				apptype = #{apptype,jdbcType=VARCHAR},
			</if>

			<if test="welcome != null">
				welcome = #{welcome,jdbcType=VARCHAR},
			</if>
			<if test="wifimac != null">
				wifimac = #{wifimac,jdbcType=VARCHAR},
			</if>
		</set>
		where sid = #{sid,jdbcType=BIGINT}
	</update>


</mapper>